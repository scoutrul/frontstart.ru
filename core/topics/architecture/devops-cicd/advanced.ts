import { Topic } from '../../../types';

export const DEVOPS_CICD_ADVANCED_TOPICS: Topic[] = [
  {
    id: 'architecture-devops-advanced',
    title: 'DevOps для микрофронтендов',
    difficulty: 'advanced',
    description: 'DevOps для микрофронтендов: независимый деплой модулей, канареечные релизы, мониторинг каждого модуля. NFR (Non-Functional Requirements): безопасность, доступность, производительность. Senior должен уметь настраивать сложные пайплайны для распределённых систем.',
    keyPoints: [
      'Независимый деплой: каждый микрофронтенд деплоится отдельно.',
      'Канареечные релизы: постепенное развёртывание на часть пользователей.',
      'Мониторинг: отслеживание каждого модуля отдельно.',
      'NFR: безопасность, доступность, производительность как требования.'
    ],
    tags: ['architecture', 'devops', 'micro-frontends', 'canary', 'advanced'],
    examples: [
      {
        title: 'Канареечный релиз',
        code: `// Развёртывание на 10% пользователей
if (Math.random() < 0.1) {
  loadNewVersion();
} else {
  loadOldVersion();
}

// Мониторинг метрик
// Если метрики хуже → откат
// Если метрики лучше → постепенное увеличение`
      }
    ],
    relatedTopics: ['architecture-devops-cicd'],
    funFact: 'Канареечные релизы получили название от практики шахтёров брать канареек в шахты для обнаружения угарного газа. Если канарейка умирала, это означало опасность. В разработке канареечный релиз позволяет обнаружить проблемы до полного развёртывания.'
  }
];
