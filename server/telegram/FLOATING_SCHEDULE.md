# –ü–ª–∞–≤–∞—é—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤

## –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

**4 –ø–æ—Å—Ç–∞ –≤ –¥–µ–Ω—å** —Å –ø–ª–∞–≤–∞—é—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –≤–º–µ—Å—Ç–æ –∂—ë—Å—Ç–∫–æ–π –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —á–∞—Å–∞–º.

### –ü–æ—á–µ–º—É –ø–ª–∞–≤–∞—é—â–µ–µ?

- ‚úÖ **–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å** ‚Äî –ø–æ—Å—Ç—ã –Ω–µ –≤—ã—Ö–æ–¥—è—Ç –≤ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –≤—Ä–µ–º—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
- ‚úÖ **–ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å** ‚Äî —Å–ª–æ–∂–Ω–µ–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥
- ‚úÖ **–†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å** ‚Äî –ø–æ—Å—Ç—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø–æ –≤—Å–µ–º —Å—É—Ç–∫–∞–º
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** ‚Äî –Ω–µ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –≤—Ä–µ–º—è

## –í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫–Ω–∞

–°—É—Ç–∫–∏ —Ä–∞–∑–±–∏—Ç—ã –Ω–∞ 4 –æ–∫–Ω–∞ –ø–æ ~6 —á–∞—Å–æ–≤ –∫–∞–∂–¥–æ–µ:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    24 —á–∞—Å–∞ (—Å—É—Ç–∫–∏)                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   –û–∫–Ω–æ 1    ‚îÇ   –û–∫–Ω–æ 2    ‚îÇ   –û–∫–Ω–æ 3    ‚îÇ   –û–∫–Ω–æ 4     ‚îÇ
‚îÇ   (–£—Ç—Ä–æ)    ‚îÇ   (–î–µ–Ω—å)    ‚îÇ   (–í–µ—á–µ—Ä)   ‚îÇ   (–ù–æ—á—å)     ‚îÇ
‚îÇ 01:00-05:00 ‚îÇ 07:00-11:00 ‚îÇ 13:00-17:00 ‚îÇ 19:00-23:00  ‚îÇ
‚îÇ     UTC     ‚îÇ     UTC     ‚îÇ     UTC     ‚îÇ     UTC      ‚îÇ
‚îÇ             ‚îÇ             ‚îÇ             ‚îÇ              ‚îÇ
‚îÇ 04:00-08:00 ‚îÇ 10:00-14:00 ‚îÇ 16:00-20:00 ‚îÇ 22:00-02:00  ‚îÇ
‚îÇ     –ú–°–ö     ‚îÇ     –ú–°–ö     ‚îÇ     –ú–°–ö     ‚îÇ     –ú–°–ö      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     –ü–æ—Å—Ç 1        –ü–æ—Å—Ç 2        –ü–æ—Å—Ç 3        –ü–æ—Å—Ç 4
```

### –ö–∞–∫ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –≤—Ä–µ–º—è

–ü—Ä–∏ **–∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞**:
1. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–∫–Ω–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–π —á–∞—Å –∏ –º–∏–Ω—É—Ç–∞
2. –°–æ–∑–¥–∞—ë—Ç—Å—è cron-–∑–∞–¥–∞—á–∞ –Ω–∞ —ç—Ç–æ –≤—Ä–µ–º—è
3. –í—Ä–µ–º—è –æ—Å—Ç–∞—ë—Ç—Å—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

**–ü—Ä–∏–º–µ—Ä:**
```
–û–∫–Ω–æ 1: 03:42 UTC (06:42 –ú–°–ö)
–û–∫–Ω–æ 2: 09:15 UTC (12:15 –ú–°–ö)
–û–∫–Ω–æ 3: 14:58 UTC (17:58 –ú–°–ö)
–û–∫–Ω–æ 4: 21:23 UTC (00:23 –ú–°–ö)
```

## –õ–æ–≥–∏–∫–∞ –ø–æ—Å—Ç–∏–Ω–≥–∞

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ—Å—Ç–æ–≤

–ü–æ—Å—Ç—ã –∏–¥—É—Ç **—Å—Ç—Ä–æ–≥–æ –ø–æ —Ü–∏–∫–ª—É** (–∫–∞–∫ –≤ –æ–±—ã—á–Ω–æ–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏):

**–î–µ–Ω—å 1:**
1. –ü–æ—Å—Ç 1 (–£—Ç—Ä–æ): `computer-science[0]` ‚Äî –≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω—ã–π
2. –ü–æ—Å—Ç 2 (–î–µ–Ω—å): `optimization[0]` ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π
3. –ü–æ—Å—Ç 3 (–í–µ—á–µ—Ä): `security[0]` ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π
4. –ü–æ—Å—Ç 4 (–ù–æ—á—å): `frameworks[0]` ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π

**–î–µ–Ω—å 2:**
1. –ü–æ—Å—Ç 1 (–£—Ç—Ä–æ): `hiring[0]` ‚Äî –≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω—ã–π
2. –ü–æ—Å—Ç 2 (–î–µ–Ω—å): `security[1]` ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π
3. –ü–æ—Å—Ç 3 (–í–µ—á–µ—Ä): `frameworks[1]` ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π
4. –ü–æ—Å—Ç 4 (–ù–æ—á—å): `architecture[0]` ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–í `posted-topics.json` –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è:

```json
{
  "postsTodayCount": 2,      // –°–∫–æ–ª—å–∫–æ –ø–æ—Å—Ç–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è
  "dailyPostIndex": 2,       // –ò–Ω–¥–µ–∫—Å —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–æ—Å—Ç–∞ (0-3)
  "lastPostDate": "2026-01-10",
  "cycleDay": 0,
  "humanitarianIndex": 0,
  "metaCategoryPointers": { ... }
}
```

### –°–±—Ä–æ—Å —Å—á—ë—Ç—á–∏–∫–æ–≤

–ü—Ä–∏ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –¥–Ω—è:
- `postsTodayCount` ‚Üí 0
- `dailyPostIndex` ‚Üí 0
- –¶–∏–∫–ª –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è —Å —Ç–æ–≥–æ –∂–µ –º–µ—Å—Ç–∞

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥–∞

1. –£–±–µ–¥–∏—Å—å, —á—Ç–æ `TELEGRAM_BOT_TOKEN` –≤ `.env`
2. –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –≤ `server/index.js`:

```javascript
import { setupTelegramCron } from './telegram/schedule.js';

// ...

setupTelegramCron(); // ‚Üê –£–±—Ä–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
```

3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä:

```bash
npm run start
```

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —É–≤–∏–¥–∏—à—å:

```
üîß Setting up floating schedule for Telegram posting...
üìä Configuration: 4 posts per day in random time windows

üìÖ Scheduling post 1/4 (–£—Ç—Ä–æ)
   Time: 03:42 UTC (06:42 –ú–°–ö)
   Cron: 42 3 * * *

üìÖ Scheduling post 2/4 (–î–µ–Ω—å)
   Time: 09:15 UTC (12:15 –ú–°–ö)
   Cron: 15 9 * * *

üìÖ Scheduling post 3/4 (–í–µ—á–µ—Ä)
   Time: 14:58 UTC (17:58 –ú–°–ö)
   Cron: 58 14 * * *

üìÖ Scheduling post 4/4 (–ù–æ—á—å)
   Time: 21:23 UTC (00:23 –ú–°–ö)
   Cron: 23 21 * * *

‚úÖ Floating schedule initialized successfully!
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–¥–∏–Ω –ø–æ—Å—Ç (–∏–º–∏—Ç–∞—Ü–∏—è cron)
npm run post:single

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ 4 –ø–æ—Å—Ç–∞ —Å—Ä–∞–∑—É
npm run post:schedule

# –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
npm run post:preview 7
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
cat server/posted-topics.json

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∂—É—Ä–Ω–∞–ª
cat server/posting-log.json
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫–æ–Ω

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `server/telegram/schedule.js`:

```javascript
const POSTING_WINDOWS = [
  { start: 1, end: 5, name: '–£—Ç—Ä–æ' },    // –ò–∑–º–µ–Ω–∏—Ç—å —á–∞—Å—ã
  { start: 7, end: 11, name: '–î–µ–Ω—å' },
  { start: 13, end: 17, name: '–í–µ—á–µ—Ä' },
  { start: 19, end: 23, name: '–ù–æ—á—å' }
];
```

**–í–∞–∂–Ω–æ:** –ß–∞—Å—ã —É–∫–∞–∑–∞–Ω—ã –≤ **UTC**! –î–ª—è –ú–°–ö –¥–æ–±–∞–≤–∏—Ç—å +3 —á–∞—Å–∞.

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ cron

–ü—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ cron-–∑–∞–¥–∞—á–∏:

```
üöÄ Cron job 1/4 (–£—Ç—Ä–æ) triggered
   Time: 2026-01-10T03:42:15.123Z

Starting single scheduled post...
Posting 1/4 for today: representation-from-signs-to-formalization (computer-science)
‚úì Posted 1/4 for today: representation-from-signs-to-formalization (messageId: 55)

‚úÖ Post 1/4 successful: {
  topicId: 'representation-from-signs-to-formalization',
  title: '–û—Ç —Ä–µ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ –∫ —Ñ–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏',
  metaCategory: 'computer-science',
  messageId: 55,
  postsTodayCount: 1
}
```

### –ñ—É—Ä–Ω–∞–ª –ø–æ—Å—Ç–∏–Ω–≥–∞

`server/posting-log.json`:

```json
{
  "timestamp": "2026-01-10T03:42:15.456Z",
  "topicId": "representation-from-signs-to-formalization",
  "status": "success",
  "messageId": 55,
  "type": "scheduled-single",
  "cycleDay": 0,
  "humanitarianIndex": 0,
  "postIndex": 0,
  "postsTodayCount": 1,
  "posts": [...]
}
```

## Troubleshooting

### –ü–æ—Å—Ç—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ `setupTelegramCron()` —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
2. –ü—Ä–æ–≤–µ—Ä—å `TELEGRAM_BOT_TOKEN` –≤ `.env`
3. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

### –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –±–æ–ª—å—à–µ 4 –ø–æ—Å—Ç–æ–≤

–ü—Ä–æ–≤–µ—Ä—å `postsTodayCount` –≤ `posted-topics.json`. –ï—Å–ª–∏ —Å—á—ë—Ç—á–∏–∫ –Ω–µ —Å–±—Ä–æ—Å–∏–ª—Å—è:

```json
{
  "postsTodayCount": 0,
  "dailyPostIndex": 0,
  "lastPostDate": "2026-01-10"
}
```

### –•–æ—á—É –∏–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä ‚Äî –≤—Ä–µ–º—è —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ.

### –•–æ—á—É —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è

–ò—Å–ø–æ–ª—å–∑—É–π —Å—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥ —Å `TELEGRAM_CRON_1` –∏ `TELEGRAM_CRON_2` –≤ `.env`.

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ vs –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

### –ü–ª–∞–≤–∞—é—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

‚úÖ –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å  
‚úÖ –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å  
‚úÖ –ù–µ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤—Ä–µ–º—è  
‚ùå –í—Ä–µ–º—è –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ  
‚ùå –ù–µ–ª—å–∑—è —Ç–æ—á–Ω–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å –≤—Ä–µ–º—è

### –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

‚úÖ –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –≤—Ä–µ–º—è  
‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–≤  
‚ùå –õ–µ–≥–∫–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥  
‚ùå –í—ã–≥–ª—è–¥–∏—Ç —Ä–æ–±–æ—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- **–ü—Ä–æ–¥–∞–∫—à–Ω:** –ü–ª–∞–≤–∞—é—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** `npm run post:single` –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
- **–û—Ç–ª–∞–¥–∫–∞:** `npm run post:preview` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–∫–∏ —Ü–∏–∫–ª–∞
